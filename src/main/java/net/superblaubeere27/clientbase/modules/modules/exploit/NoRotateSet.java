package net.superblaubeere27.clientbase.modules.modules.exploit;

import com.darkmagician6.eventapi.EventTarget;

import net.minecraft.client.entity.EntityPlayerSP;
import net.minecraft.init.Blocks;
import net.minecraft.network.Packet;
import net.minecraft.network.play.client.C00PacketKeepAlive;
import net.minecraft.network.play.client.C03PacketPlayer;
import net.minecraft.network.play.client.C03PacketPlayer.C05PacketPlayerLook;
import net.minecraft.network.play.server.S08PacketPlayerPosLook;
import net.minecraft.util.AxisAlignedBB;
import net.superblaubeere27.clientbase.events.BBEvent;
import net.superblaubeere27.clientbase.events.MotionUpdateEvent;
import net.superblaubeere27.clientbase.events.PacketEvent;
import net.superblaubeere27.clientbase.modules.Module;
import net.superblaubeere27.clientbase.modules.ModuleCategory;

public class NoRotateSet extends Module {
	
	public NoRotateSet() {
		super("NoRotateSet", "tired of server rotate set , this can help", ModuleCategory.EXPLOIT);
		
		this.setState(false);
	}
	
	
	@Override
	public void onEnable() {
	}
	@EventTarget
    private void onPacket(PacketEvent event) {
    	if(!getState()) return;
    	if(mc.thePlayer == null) return;
    	if(mc.theWorld == null) return;
    	if(mc.isSingleplayer()) return;
    	if(event.getPacket() == null) return;
    	
    	EntityPlayerSP p = mc.thePlayer;
    	if(event.getPacket() instanceof S08PacketPlayerPosLook) {
    		S08PacketPlayerPosLook packet = (S08PacketPlayerPosLook) event.getPacket();
    		
            mc.getNetHandler().addToSendQueue(new C05PacketPlayerLook(p.rotationYaw, p.rotationPitch, p.onGround));
    		
    		event.setCancelled(true);
    		mc.thePlayer.rotationYaw = mc.thePlayer.rotationYaw;
    		mc.thePlayer.rotationPitch = p.rotationPitch;
    	}
    }
	
	@EventTarget
	private void onMotion(MotionUpdateEvent e) {

	}
    
    @EventTarget
	private void onBB(BBEvent event) {
		
	}

}
